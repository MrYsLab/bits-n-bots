!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ea64cb0c-3df6-485d-b4f4-7f0827ae5d67",e._sentryDebugIdIdentifier="sentry-dbid-ea64cb0c-3df6-485d-b4f4-7f0827ae5d67")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1c0369aa8d529428833b37b1c4b1f3745d322079"},(self.webpackChunk_xwords_phoenix=self.webpackChunk_xwords_phoenix||[]).push([[1270],{94294:function(e,t,n){n.d(t,{Z:function(){return O}});var o=n(89526),r=n(2652),a=n.n(r),l=n(60294),i=n(89064),s=n(26171),c=n(64403),u=n.n(c),d=n(53789),m=n(57256),_=n(65489),g=n(18489),f=n(9861),p="ModalBanner-module_headerLine__uv_QJ";const v="nyt-modal-banner",y=window.localStorage;function b(){try{y.setItem(v,JSON.stringify({count:0,timestamp:Date.now()}))}catch(e){console.error(e)}}function h(){const e=JSON.parse(y.getItem(v));if(!e)return b(),!0;const{count:t,timestamp:n}=e;return Date.now()-n>864e5?(b(),!0):t<2}var w=e=>{let{region:t,id:n}=e;const[r,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(!1),c=(0,o.useRef)(null),{hasAbraLoaded:b}=(0,m.Z)(),h=(0,g.Z)()&&!d.tq&&!window.isHybridWebView||d.tq,w=()=>{const e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return"".concat(o,"-").concat(n,"-").concat(t)};(0,o.useEffect)((()=>(l?document.body.style.overflow="":(a(!0),document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""})),[l]);const E=()=>{(0,_.ob)({context:n||"",moduleName:{date:w(),t:"today"},region:"hub"===t?"hub":"welcome",name:t,label:"close-large-download-app"}),a(!1),i(!0),function(){const e=JSON.parse(y.getItem(v));e&&(e.count+=1,y.setItem(v,JSON.stringify(e)))}()},S=e=>{const{target:t}=e;if(t instanceof HTMLElement){const{classList:e}=t;if(0!==Array.from(e).filter((e=>e.includes("purr-blocker-card"))).length)return}c.current&&!c.current.contains(t)&&E()};(0,o.useEffect)((()=>(document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)})),[]),(0,o.useEffect)((()=>{b&&(0,_.hX)("hub"===t?"hub":"welcome",t,"large-download-app",n?"".concat(n):"")}),[b]);const I=o.createElement("div",{className:"ModalBanner-module_banner__yDlAE","aria-live":"polite",ref:c},o.createElement("div",{className:"ModalBanner-module_bannerClose__bFRBj"},o.createElement("button",{className:"ModalBanner-module_iconButton__CpGN2",type:"button",onClick:E},o.createElement("span",{className:"visually-hidden"},"Close"),o.createElement(f.Z,{icon:"close"}))),o.createElement("div",{className:"ModalBanner-module_bannerContent__zfp0F","aria-label":"Information"},!h&&o.createElement(f.Z,{className:"ModalBanner-module_bannerIcon__lmtj9",icon:"qr-code"}),o.createElement("div",{className:u()("ModalBanner-module_bannerBody__incij")},o.createElement("div",{className:"ModalBanner-module_bannerHeader__JxKTL"},o.createElement("h1",null,o.createElement("div",{className:p},"Try Games free for 7 days."),o.createElement("div",{className:p}," ","Download the app.")),o.createElement(f.Z,{className:"ModalBanner-module_bannerIconMobile__qGDPK",icon:"inline-games"}),o.createElement("div",{className:"ModalBanner-module_bannerDescription__zkptC"},"Offer available for first-time subscribers, only in the app."),h&&o.createElement(o.Fragment,null,o.createElement("button",{key:"Download the Games App",type:"button",onClick:()=>{(0,_.ob)({context:n||"",moduleName:{date:w(),t:"today"},region:"hub"===t?"hub":"welcome",moduleLabel:"https://fpx3r.app.goo.gl/app-store",name:t,label:"large-download-app"}),window.open("https://fpx3r.app.goo.gl/app-store","_blank")},className:"ModalBanner-module_bannerButton__UsH2t","aria-label":"Download the Games App"},o.createElement("span",{style:{color:"#F8F8F8"}},"Download the Games App"))),o.createElement("div",{className:"ModalBanner-module_bannerLegal__REVGx"},"For offers that include a free trial: If you cancel before the end of the free trial, you will not be charged. After the free trial period, you will automatically become a paying subscriber. If you choose to upgrade or downgrade your subscription during the free trial period, you will forfeit the remainder of your trial."," ",o.createElement("a",{href:"https://help.nytimes.com/hc/en-us/articles/115014893968-Terms-of-Sale",className:"ModalBanner-module_bannerTermsApply___TwSV"},"Terms and conditions apply"))))));return o.createElement(s.Z,{in:r,unmountOnExit:!0,timeout:400,classNames:{exit:"ModalBanner-module_exit___KLVa",exitActive:"ModalBanner-module_exitActive__mwgWi"}},I)},E=n(85203),S=n(69195);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I.apply(this,arguments)}const B=e=>{let{game:t}=e;const{userType:n}=(0,l.aF)(),{getVariant:r,reportExposure:a,hasAbraLoaded:s}=(0,m.Z)(),c="GAMES_largeAppDLCTA_1124",u="GAMES_desktopLargeAppDLCTA_1124",d=(0,i.Z)("mobileLargeAppDLCTA"),_=(0,E.T4)()&&d&&h(),g=(0,i.Z)("desktopLargeAppDLCTA"),f=(0,E.k5)()&&g&&h(),p=!n.hasXwd&&(_||f)&&"Connections"===t.title;return(0,o.useEffect)((()=>{s&&((0,E.T4)()&&r(c)?a(c):(0,E.k5)()&&r(u)&&a(u))}),[s]),o.createElement(S.im,{bgColor:t.bgColor},o.createElement("div",{className:"pz-moment__container alternate"},o.createElement(S.Sx,{trackData:t.game?{elementName:t.game,moduleLabel:"welcome"}:void 0}),o.createElement("div",{className:"pz-moment__content sequence-animation"},o.createElement(S.JO,{icon:t.icon,size:"medium"}),o.createElement(S.Dx,{text:t.title,level:"2",size:"large"}),o.createElement(S.dk,I({},t.description,{level:"3"})),o.createElement(S.h_,{text:t.meta}),(t.buttonGroups||[]).map(((e,t)=>{let{buttons:n,header:r,desktopButtonOrder:a}=e;return o.createElement(S.hE,{key:t,buttons:n,header:r,order:a})})),o.createElement("p",{className:"pz-moment__info"},o.createElement("span",{className:"visually-hidden"},"Game information"),o.createElement(S.Ej,{date:t.date}),o.createElement(S.ML,{editor:t.editor}),t.infoText&&o.createElement(S.XU,null,t.infoText)),o.createElement(S.FG,{promo:t.promo}))),p&&o.createElement(w,{region:t.icon}))};B.propTypes={game:a().shape({game:a().string,icon:a().string,title:a().string,description:a().shape({text:a().string}),buttonGroups:a().arrayOf(a().shape({buttons:a().arrayOf(a().shape({text:a().string,action:a().func,dataTestId:a().string||void 0})),header:a().oneOfType([a().node,a().string]),desktopButtonOrder:a().string||null})),date:a().string,editor:a().string,infoText:a().oneOfType([a().string,a().node]),bgColor:a().string,promo:a().string,meta:a().string})};var O=B},33064:function(e,t,n){n.d(t,{U:function(){return s}});var o=n(65489),r=n(86128);const a=window.location.origin+window.location.pathname,l=(0,r.f0)({redirect_uri:encodeURIComponent(a),response_type:"cookie",client_id:"games",application:"crosswords"}),i="".concat(o.OB.account,"/auth/enter-email?").concat(l),s=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;const a=(null==t||null===(e=t.navigationLinks)||void 0===e?void 0:e.login)||"";return(0,r.I3)(a)?a:n?(0,o.T0)(i,n):i};t.Z=s},15419:function(e,t,n){n.d(t,{$I:function(){return m}});var o,r=n(65489),a=n(86128);const l=(i={prod:"https://www.nytimes.com/subscription/games-offer?campaignId=8YUQL",stg:"https://www.stg.nytimes.com/subscription/games-offer?campaignId=8YUQL",dev:"https://www.stg.nytimes.com/subscription/games-offer?campaignId=8YUQL"})[(null===(o=window.env)||void 0===o?void 0:o.name)||"dev"]||i.dev;var i;const s=window.location.origin+window.location.pathname,c="".concat(l,"&EXIT_URI=").concat(s),u=(0,a.f0)({redirect_uri:encodeURIComponent(c),response_type:"cookie",client_id:"games",application:"crosswords"}),d="".concat(r.OB.account,"/auth/enter-email?").concat(u),m=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;const o=(null==t||null===(e=t.navigationLinks)||void 0===e?void 0:e.login)||"";return(0,a.I3)(o)?o:n?(0,r.T0)(d,n):d};t.ZP=m},66100:function(e,t,n){n.d(t,{l:function(){return s}});var o=n(89526),r=n(64403),a=n.n(r),l=n(63175),i=n(45788);const s=e=>{let{isVisible:t,onVisible:n,badges:r,openBadgeDetail:s,scrollSnap:c,earnTypeFilter:u}=e;const d=r.filter((e=>{const t=(0,i.vz)(e.uniqueId);return!u||(null==t?void 0:t.earnType)===u}));return o.useEffect((()=>{t&&n&&d.length>0&&n(d)}),[t]),0===d.length?null:o.createElement("div",{className:a()("BadgeCarousel-module_carousel__vjYyJ",{"BadgeCarousel-module_center__JcKkp":1===d.length,"BadgeCarousel-module_scrollSnap__TvQsX":c})},d.map((e=>o.createElement(l.T,{key:e.uniqueId,badgeData:e,triggerPopIn:t,openBadgeDetail:s}))))}},63175:function(e,t,n){n.d(t,{T:function(){return u}});var o=n(89526),r=n(64403),a=n.n(r),l={flexContainer:"PillGrey-module_flexContainer__ODUKN",expandToRow:"PillGrey-module_expandToRow__aTomr PillGrey-module_flexContainer__ODUKN",mobileColumn:"PillGrey-module_mobileColumn__YpIYL","visually-hidden":"PillGrey-module_visually-hidden__Hz7ml",pill:"PillGrey-module_pill__fJN18",default:"PillGrey-module_default__YL9K9","top-right-edge":"PillGrey-module_top-right-edge__LLm7D","top-right-edge-inner":"PillGrey-module_top-right-edge-inner__xGxjg",slideDown:"PillGrey-module_slideDown__wH1hZ",flyIn:"PillGrey-module_flyIn__MdsDx",flyOut:"PillGrey-module_flyOut__LQtPF",fadeIn:"PillGrey-module_fadeIn___mLnx"},i=e=>{let{text:t="New",position:n="default",className:r=""}=e;return o.createElement("span",{className:a()(l.pill,l[n],r)},t)},s=n(84641),c=n(45788);const u=e=>{let{badgeData:t,triggerPopIn:n,openBadgeDetail:r}=e;const a=(0,c.vz)(t.uniqueId),{progress:l}=t,u="progress"===a.type&&l&&l>1?"earned again":"earned";return o.createElement("button",{type:"button",className:"BadgeCarouselItem-module_badge__vkBLy",onClick:()=>r(t)},o.createElement(s.P,{badgeDef:a,badgeData:t,triggerPopIn:n}),o.createElement("div",{className:"BadgeCarouselItem-module_displayName__c2Ci6"},a.displayName),o.createElement(i,{text:u,className:"BadgeCarouselItem-module_pill__C9hhn"}))}},84641:function(e,t,n){n.d(t,{P:function(){return s}});var o=n(89526),r=n(64403),a=n.n(r),l=n(65489),i=n(45788);const s=e=>{let{badgeDef:t,badgeData:n,triggerPopIn:r,pillSize:s="small"}=e;const c=(0,i.RB)(n),u=(0,i.UY)(n),d="badge".concat(u>0?" level ".concat(u):"");return o.createElement("div",{className:a()("BadgeImage-module_imageContainer__X7Bz3",{"BadgeImage-module_pop__s9pYx":r})},o.createElement("img",{src:"".concat(l.OB.assets).concat(c),alt:d}),"progress"===t.type&&o.createElement("span",{className:a()("BadgeImage-module_progressPill__sEAQg",{"BadgeImage-module_large__seMZY":"large"===s,"BadgeImage-module_none__ccJ5v":"none"===s,"BadgeImage-module_twoDigit__cLeps":n.progress&&n.progress>9})},"x",n.progress))}},97545:function(e,t,n){n.d(t,{_:function(){return r}});var o=n(89526);const r=()=>o.createElement("div",{className:"StatsError-module_post_error__ATF4F","data-testid":"stats__post_error"},o.createElement("div",{className:"StatsError-module_inline_alert__icon__kAjki"}),"We couldnâ€™t sync your stats. Try again in a few.")},22466:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(89526),r=n(73961),a=n(53789),l=n(65489);function i(e){let{children:t,isHidden:n}=e;const i=(0,o.useRef)(document.getElementById(l.Mk)),s=(0,o.useRef)(document.getElementById("portal-game-toolbar")),c=o.useRef(document.getElementById(l.xD));o.useEffect((()=>{var e,t;a.tq&&(n?null===(e=c.current)||void 0===e||e.classList.remove(l.ec):null===(t=c.current)||void 0===t||t.classList.add(l.ec))}),[n]);const u=a.tq?i.current:s.current;return u?(0,r.createPortal)(t,u):o.createElement(o.Fragment,null,t)}},73649:function(e,t,n){n.d(t,{Mk:function(){return u},ec:function(){return d},ku:function(){return s},t6:function(){return i},xD:function(){return c}});var o=n(37226),r=n(22042),a=n(10431),l=n(41586);const i=()=>{(()=>{const e=(0,a.rI)((0,r.iU)("hybrid-back"));e&&window.isHybridWebView&&window.NativeBridge&&(0,a.Oo)(e,"click",(()=>{var e;"sudoku"!==(0,r.j0)()&&(null===(e=window.NativeBridge)||void 0===e||e.gamesBackToHub())}))})(),(()=>{if(window.isHybridWebView&&window.NativeBridge){const e=document.querySelectorAll(".".concat((0,r.iU)("nav-login"))),t=document.querySelectorAll(".".concat((0,r.iU)("nav-logout"))),n=document.querySelectorAll(".".concat((0,r.iU)("nav-subscribe"))),o=document.querySelectorAll(".".concat((0,r.iU)("nav-account-details"))),l=e=>e.forEach((e=>{(0,a.cn)(e,"hybrid-hidden")})),i=r=>{const a=null==r?void 0:r.isUserLoggedIn,i=null==r?void 0:r.isSubscribed;a?l(e):(l(t),l(o)),i&&l(n)};window.NativeBridge.gamesGetUserDetails().then((e=>{if(!e.success)throw new Error(e.error);i(e.values.gamesGetUserDetails)})).catch((e=>{console.error("Getting user details failed",e),l(t),l(o)})),(0,a.Oo)(window,"gamesUserCredentialChanged",(e=>{var t;i(null==e||null===(t=e.detail)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.gamesAuthenticateUser)}));const s=(e,t)=>{e.forEach((e=>{(0,a.Oo)(e,"click",(e=>{var n;e.preventDefault(),null===(n=window.NativeBridge)||void 0===n||n.gamesAuthenticateUser(t).then((e=>{if(!e.success)throw new Error(e.error);window.dispatchEvent(new CustomEvent("gamesUserCredentialChanged",{detail:e}))}))}))}))};s(n,"subscribe"),s(e,"login")}})(),(()=>{var e;const t=[...document.querySelectorAll(".top-sale-banner")],n=null===(e=document.querySelector(".top-sale-banner__urgency"))||void 0===e?void 0:e.innerHTML,o="".concat(null!=n?n:"","60% off or more your first year."),a=(0,r.j0)();t.length>0&&(0,l.j)("impression",{module:{name:"games-sale-banner",region:a,label:o},eventData:{page_type:"games-sale-banner"}}),t.forEach((e=>{e.addEventListener("click",(()=>{(0,l.j)("moduleInteraction",{module:{region:"",label:o,element:{name:a,label:"games-sale-banner"}},eventData:{pageType:"games-sale-banner",type:"tap"}})}),!0)}))})(),setTimeout((()=>{[...document.querySelectorAll(".js-hub-tracker")].forEach((e=>{const t=e.dataset.trackHub,n=e.dataset.trackHubContext||null;e.addEventListener("click",(()=>{(0,o.d)(t,n)}),!0)}))}),0)},s=e=>{let t=!1,n=-1;const o=(0,a.rI)((0,r.iU)("nav-burger")),i=(0,a.rI)((0,r.iU)("nav-drawer"));if(!o||!i)return;const s=[...i.querySelectorAll(".pz-nav-drawer__link"),...i.querySelectorAll(".pz-nav__button")];function c(){t=!0,o&&i&&((0,a.cn)(i,"open"),(0,a.cn)(o,"active"),e||(0,l.ob)({name:(0,r.j0)(),label:"click-nav",context:null}),(0,a.P$)(o,"aria-expanded",t.toString()),(0,a.P$)(i,"aria-hidden",(!t).toString()))}function u(){t=!1,o&&i&&((0,a.IV)(i,"open"),(0,a.cn)(i,"closing"),setTimeout((()=>{(0,a.IV)(i,"closing")}),500),(0,a.IV)(o,"active"),(0,a.P$)(o,"aria-expanded",t.toString()),(0,a.P$)(i,"aria-hidden",(!t).toString()))}(0,a.Oo)(o,"click",(()=>{t?u():c(),o.blur()})),(0,a.Oo)(o,"keydown",(e=>{const{key:o,keyCode:r}=e;if("Escape"!==o&&"Esc"!==o){if("Enter"!==o&&"Space"!==o&&32!==r)return"ArrowDown"===o?(e.preventDefault(),c(),n=0,void s[n].focus()):"ArrowUp"===o?(e.preventDefault(),c(),n=s.length-1,void s[n].focus()):void 0;t?u():(c(),n=0,s[n].focus())}else u()})),(0,a.Oo)(i,"keydown",(e=>{const{key:t}=e;"Escape"!==t&&"Esc"!==t||(u(),o.focus())})),(0,a.rI)((0,r.iU)("logo-nav")).addEventListener("click",(()=>{var t;const n={eventData:{pagetype:"game",trigger:"module",type:"click"},module:{name:"click",context:"",element:{name:null!==(t=window)&&void 0!==t&&null!==(t=t.location)&&void 0!==t&&t.pathname.startsWith("/puzzles/leaderboards")?"your-leaderboard":(0,r.j0)(),label:"games-logo"}}};e||(0,l.j)("moduleInteraction",n)}));const d=document.querySelector("#js-nav-actions"),m=null==d?void 0:d.querySelectorAll("a.js-nav-subscribe")[0],_=null==d?void 0:d.querySelectorAll("a.js-nav-login")[0];null==m||m.addEventListener("click",(()=>{const t=(0,r.j0)();e||(0,l.j)("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"ob_click"},module:{element:{name:t,label:"subscribe-header"}}})})),null==_||_.addEventListener("click",(()=>{const t=(0,r.j0)();e||(0,l.j)("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"ob_click"},module:{element:{name:t,label:"log-in-header"}}})}))},c=(0,r.iU)("global-nav"),u=(0,r.iU)("mobile-toolbar"),d="show-mobile-toolbar";document.querySelector(".pz-header"),(0,a.rI)(c),(0,a.rI)(u)},46098:function(e,t,n){n.d(t,{CL:function(){return l},Or:function(){return c},Rx:function(){return u},VM:function(){return i},wv:function(){return s}});var o=n(65489);function r(e,t,n,o,r,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var l=e.apply(t,n);function i(e){r(l,o,a,i,s,"next",e)}function s(e){r(l,o,a,i,s,"throw",e)}i(void 0)}))}}const l=function(){var e=a((function*(e,t){const n=t.join(","),r=yield o.Be.get("".concat(o.OB.moogle,"/svc/games/state/").concat(e,"/latests?puzzle_ids=").concat(n));if("forbidden"===r.error)throw new Error("not authenticated");if(r.states)return r;throw new Error("fetchMultiStates: ".concat(r.error||"Invalid response"))}));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=a((function*(e){const t=yield o.Be.post("".concat(o.OB.moogle,"/svc/games/state"),e,{withStatus:!0,headers:{"x-games-client-time":(new Date).toISOString()}});if(null!=t&&t.error)throw new Error(t.error);if(!t||!t.version)throw new Error("missing version in games-state POST response");return t}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=a((function*(e){const t=yield o.Be.get("".concat(o.OB.moogle,"/svc/games/settings/").concat(e));if("forbidden"===t.error)throw new Error("not authenticated");if(t.user_id)return t;throw new Error("fetchSettings: ".concat(t.error||"Invalid response"))}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a((function*(e){const t=yield o.Be.post("".concat(o.OB.moogle,"/svc/games/settings"),e,{withStatus:!0});if(null!=t&&t.error)throw new Error(t.error);if(201!==(null==t?void 0:t.status))throw new Error("status code ".concat(t.status," from settings POST"));return t}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a((function*(e){const t=yield o.Be.put("".concat(o.OB.moogle,"/svc/games/badges/seen"),{badges:e,timestamp:Math.floor(Date.now()/1e3)});if(!t.player)throw new Error("markBadgesSeen failed");return t}));return function(t){return e.apply(this,arguments)}}()},63448:function(e,t,n){n.d(t,{L:function(){return _},g:function(){return g}});var o=n(45788),r=n(42101),a=n(46098),l=n(29949),i=n(83910),s=n(69537);function c(e,t,n,o,r,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function l(e){c(a,o,r,l,i,"next",e)}function i(e){c(a,o,r,l,i,"throw",e)}l(void 0)}))}}const d=(e,t)=>function(){var n=u((function*(n){try{const o=yield(0,a.CL)(e,t);n(s.N.multiStatesSuccess({data:o.states||[],regiId:o.user_id,player:o.player}))}catch(e){n(s.N.multiStatesError({message:e.message}))}}));return function(e){return n.apply(this,arguments)}}(),m=e=>function(){var t=u((function*(t){t(s.N.loadSettings());try{const n=yield(0,a.wv)(e);t(s.N.settingsSuccess({data:n,regiId:n.user_id}))}catch(e){t(s.N.settingsError({message:e.message}))}}));return function(e){return t.apply(this,arguments)}}(),_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>function(){var e=u((function*(e,n){if(!t.length)return;const{game:o}=t[0];e(s.N.setGame(o));const a=n();let c=!1;const u=t.reduce(((e,t)=>{var n;const o=t.selectPuzzleIdOrSettings(a);(0,r.X)(t,a)?c=!0:e.push(o);const l=(null===(n=t.selectAdditionalPuzzleIdsToFetch)||void 0===n?void 0:n.call(t,a))||[];return e.concat(l)}),[]),_=Array.from(new Set(u));_.length>0&&(yield e(d(o,_))),c&&(yield e(m(o))),t.forEach((t=>{e((e=>(t,n)=>{var o;const a=e.selectPuzzleIdOrSettings(n());if(!a)return null;const c=n(),u=(0,r.Mc)(e,c),d=(0,r.wG)(e,c),m=(0,i.e_)(e,c);let _=(e.reconcileRemoteAndLocalState||l.b)(d,m);const g=(0,i.e_)(e,c,!0);e.handleMidGameLogin&&u&&(_=e.handleMidGameLogin(_,g)),t(e.insertProgress(_,g)),!u||null!==(o=e.shouldPreventSaveAfterLoad)&&void 0!==o&&o.call(e,d,_,c)||t(s.N.forceSave({puzzleId:a}))})(t))}))}));return function(t,n){return e.apply(this,arguments)}}()},g=e=>function(){var t=u((function*(t){const n=e.map((e=>{var t;let n;return"milestone"===(0,o.vz)(e.uniqueId).type&&null!==(t=e.earned_at)&&void 0!==t&&t.length&&(n=e.earned_at.length-1),{id:e.uniqueId,levelIdx:n}}));try{const{player:o}=yield(0,a.Rx)(n);t(s.N.notifyBadges({badges:e,player:o}))}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()},42101:function(e,t,n){n.d(t,{DX:function(){return _},Mc:function(){return c},X:function(){return i},Z0:function(){return g},eV:function(){return m},g2:function(){return l},gQ:function(){return u},qQ:function(){return d},wG:function(){return s}});var o=n(45788);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var o,r,a,l;o=e,r=t,a=n[t],(r="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?l:l+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=e=>"settings"===e,i=(e,t)=>l(e.selectPuzzleIdOrSettings(t)),s=(e,t)=>{const n=i(e,t),o=((e,t)=>{const n=e.selectPuzzleIdOrSettings(t);return e.selectMoogleState(t).getPuzzleProgress.statesByPuzzleId[n]||null})(e,t),r=((e,t)=>e.selectMoogleState(t).getRemoteSettings.data||null)(e,t);return n&&null!=r&&r.settings?a({timestamp:r.timestamp,schemaVersion:r.schema_version||""},r.settings):!n&&null!=o&&o.game_data?a({timestamp:o.timestamp,schemaVersion:o.schema_version},o.game_data):null},c=(e,t)=>e.selectMoogleState(t).regiId,u=(e,t)=>{const{postRequest:n}=e.selectMoogleState(t);return Object.keys(n).some((e=>n[e].isLoading))},d=(e,t)=>e.selectMoogleState(t).pendingSaves,m=(e,t)=>d(e,t).length>0,_=(e,t)=>{var n;const{postRequest:o}=e.selectMoogleState(t);return null===(n=o[e.selectPuzzleIdOrSettings(t)])||void 0===n?void 0:n.isErrorRetry},g=e=>{const{player:t,badges:{notified:n},game:r}=e;if(!t)return[];const{badges_alpha:l}=t;if(!l)return[];const i=Object.keys(l).map((e=>a(a({},null==l?void 0:l[e]),{},{uniqueId:e}))).filter((e=>{if(!r)return!0;const t=(0,o.vz)(e.uniqueId);return null==t?void 0:t.games.includes(r)})).filter((e=>{const{earned_at:t=[],notified_at:n=[]}=e,o=t.filter((e=>e>-1)).length,r=n.filter((e=>e>-1)).length;return 0!==o&&o>r})),s=n.filter((e=>i.every((t=>t.uniqueId!==e.uniqueId))));return[...i,...s].sort(((e,t)=>t.uniqueId.localeCompare(e.uniqueId)))}},68342:function(e,t){t.Z={earnedDate:"BadgeDetail-module_earnedDate__RwLr0",imageContainer:"BadgeDetail-module_imageContainer__eGq8O",title:"BadgeDetail-module_title__t7MHd",pill:"BadgeDetail-module_pill__V4EaV",description:"BadgeDetail-module_description__HhVfN",buttonContainer:"BadgeDetail-module_buttonContainer__jKnmL",detailBody:"BadgeDetail-module_detailBody__oxwVv",timeline:"BadgeDetail-module_timeline__UDhXO",fadePrev:"BadgeDetail-module_fadePrev__GAjII",fadeNext:"BadgeDetail-module_fadeNext__Z1O1h",prev:"BadgeDetail-module_prev__ew4UR",next:"BadgeDetail-module_next__Lj_1o"}},15255:function(e,t){t.Z={flexContainer:"Stat-module_flexContainer__bOPnO",expandToRow:"Stat-module_expandToRow__oQ6Pt Stat-module_flexContainer__bOPnO",mobileColumn:"Stat-module_mobileColumn__rx8tV","visually-hidden":"Stat-module_visually-hidden___Poxf",stats__row:"Stat-module_stats__row__xnktL",topBorder:"Stat-module_topBorder___ilW5",stats__group:"Stat-module_stats__group__QokRc",stats__divider:"Stat-module_stats__divider__pi7dG",stat:"Stat-module_stat__xk7C1",locked:"Stat-module_locked__PplME",stats__icon:"Stat-module_stats__icon__J35vp",stat__label:"Stat-module_stat__label__Q5EYk",genius:"Stat-module_genius__HKzOf","queen-bee":"Stat-module_queen-bee__zekvO","stats__post-error":"Stat-module_stats__post-error__WPlS7",stats__controls:"Stat-module_stats__controls__PiGvv","api-json":"Stat-module_api-json__ANcvp",slideDown:"Stat-module_slideDown__oEE1Z",flyIn:"Stat-module_flyIn__NzUQo",flyOut:"Stat-module_flyOut__OX0ip",fadeIn:"Stat-module_fadeIn__Z6tPw"}}}]);
//# sourceMappingURL=1270.083012446fd0987559f2.js.map